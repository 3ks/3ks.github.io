<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.65.3"><title>批量导入导出 Docker 镜像 - Gorda</title><meta property="og:title" content="批量导入导出 Docker 镜像 - Gorda"><link href=https://static.sguan.top/images/favicon.ico rel=icon type=image/x-icon><link rel=stylesheet href=https://static.sguan.top/css/main.css media=all><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Merriweather:400|Lato:400,400italic,700"></head><body><div class=wrapper><header class=header><nav class=nav><a href=https://gorda.github.io/ class=nav-logo><img src=https://static.sguan.top/images/logo.png width=50 height=50 alt="Gorda logo"></a><ul class=nav-links><li><a href=/>主页</a></li><li><a href=/tags/>Tag</a></li><li><a href=/labs/>实验室</a></li><li><a href=/about/>关于我</a></li></ul></nav></header><main class=content role=main><article class=article><span class=article-duration>预计阅读 1 分钟</span><h1 class=article-title>批量导入导出 Docker 镜像</h1><span class=article-date>2020 年 3 月 16 日</span><section class=tags><a class=tag href=/tags/docker/>docker</a><a class=tag href=/tags/docker-images/>docker images</a><a class=tag href=/tags/export/>export</a><a class=tag href=/tags/import/>import</a></section><div class=article-content><h1 id=批量导入导出-docker-镜像>批量导入导出 docker 镜像</h1><h3 id=批量导出>批量导出</h3><p>执行下面这条命令即可将所有镜像导出为单个文件 <code>all.tar.gz</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>IMAGES_LIST<span style=color:#f92672>=(</span><span style=color:#66d9ef>$(</span>docker  images   | sed  <span style=color:#e6db74>&#39;1d&#39;</span> | awk  <span style=color:#e6db74>&#39;{print $1&#34;:&#34;$2}&#39;</span><span style=color:#66d9ef>)</span><span style=color:#f92672>)</span> <span style=color:#f92672>&amp;&amp;</span> docker save <span style=color:#e6db74>${</span>IMAGES_LIST[*]<span style=color:#e6db74>}</span>  -o  all.tar.gz
</code></pre></div><h3 id=批量导入>批量导入</h3><p>上面导出的 <code>all.tar.gz</code> 文件传输至另一台机器上后，执行下面的命令即可将文件内的所有镜像导入：</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>docker load &lt; all.tar.gz
</code></pre></div><h1 id=参考链接>参考链接</h1><p><a href=https://blog.zhenglin.work/docker/save_load_images.html>逐个和批量导出导入docker镜像</a></p></div></article></main><footer class=footer><div class=footer-img></div><div class=footer-inner><div class=footer-links><li>Copyright © 2020 <a href=https://github.com/gorda class=footer-links-kudos>Gorda</a>.</li><li>由 <a href=https://gohugo.io/ class=footer-links-kudos>Hugo</a> 强力驱动.</li><li>基于 <a href=https://themes.gohugo.io/hugo-notepadium/ class=footer-links-kudos>Notepadium</a> 和 <a href=https://themes.gohugo.io/hugo-lithium-theme/>Lithium</a> 主题.</li><li>由 <a href=https://www.qiniu.com/ class=footer-links-kudos>七牛云</a> 提供 CDN 服务.</li></div><div class=footer-logos><a class="footer-logo iconfont icon-git1" href=https://github.com/gorda target=view_window></a><a class="footer-logo iconfont icon-gmail" href=mailto:imqksl@gmail.com target=view_window></a><a class="footer-logo iconfont icon-docker" href=https://hub.docker.com/u/qksl target=view_window></a><a class="footer-logo iconfont icon-CN_bilibiliB" href=https://space.bilibili.com/23240782 target=view_window></a><a class="footer-logo iconfont icon-tubiaozhizuomoban-" href=https://www.youtube.com/channel/UCr_kOyDLQG-9jfZQyS57rGg target=view_window></a><a class="footer-logo iconfont icon-toutiaotiaozhuantupian-" href="https://www.toutiao.com/c/user/3256184007/#mid=1570096565140482" target=view_window></a><a class="footer-logo iconfont icon-zhihu" href=https://www.zhihu.com/people/guan-yu-peng-84 target=view_window></a><a class="footer-logo iconfont icon-facebook" href=https://github.com/gorda target=view_window></a><a class="footer-logo iconfont icon-ttww" href=https://twitter.com/tjlO0Tr26F4cMIe target=view_window></a></div></div></footer></div></body></html>